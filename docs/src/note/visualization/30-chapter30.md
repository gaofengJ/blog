---
title: 30. 怎么给WebGL绘制加速
description: 可视化
---

# 30. 怎么给WebGL绘制加速

## 尽量发挥 GPU 的优势

* 减少 CPU 计算次数

* 静态批量绘制（多实例绘制）

* 动态批量绘制

用一句话总结，WebGL 的性能优化原则就是尽量发挥出 GPU 的优势。核心原则有两个：首先，我们尽量减少 CPU 计算次数，把能放在 GPU 中计算的部分放在 GPU 中并行计算；其次，也是更重要的，我们应该减少每一帧的绘制次数。

对应的优化方法也有两个：一是如果我们要绘制大量相同的图形，可以利用多实例渲染来实现静态批量绘制；二是如果绘制的图形不同，但是采用的 WebGL 程序相同、以及 uniform 的值没有改变，那我们可以人为合并顶点并进行渲染。减少绘制次数一般来说对性能会有比较明显的提升。

除此之外，我们还可以在不需要处理透明度的时候不启用混合模式，在不需要抗锯齿的时候关闭抗锯齿功能，它们都能减少性能开销。以及，我们还要注意 Shader 的效率，尽量用函数代替分支，避免一些耗时的计算，多使用简单的加法和乘法，这样能够保证着色器高效运行。
