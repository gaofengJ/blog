---
title: 01. 浏览器中实现可视化的四种方式
description: 可视化
---

可视化就是将数据信息组织起来后，以图形的方式呈现出来。在浏览器中，负责绘制图形的部分是渲染引擎。渲染引擎绘制图形的方式，主要有以下四种：

* [**HTML+CSS**](#html-css)

* [**SVG**](#svg)

* [**Canvas2D**](#canvas2d)

这是浏览器提供的 Canvas API 中的其中一种上下文，使用它可以非常方便地绘制出基础的几何图形。

* [**WebGL**](#webgl)

这是浏览器提供的 Canvas API 中的另一种上下文，它是 OpenGL ES 规范在 Web 端的实现。通过它，可以用 GPU 渲染各种复杂的 2D 和 3D 图形。

## <span id="html-css">HTML+CSS</span>

### HTML + CSS如何实现可视化

* 柱状图

网格布局（Grid Layout）加线性渐变（Linear-gradient）

* 饼图

圆锥渐变

### HTML+CSS实现可视化的缺点

当图形发生变化时，涉及到重绘和回流，性能开销非常大

## <span id="svg">SVG</span>

现代浏览器支持 SVG（Scalable Vector Graphics，可缩放矢量图），SVG 是一种基于 XML 语法的图像格式，可以用图片（img 元素）的 src 属性加载。而且，浏览器更强大的是，它还可以内嵌 SVG 标签，并且像操作普通的 HTML 元素一样，利用 DOM API 操作 SVG 元素。

相比 HTML+CSS，SVG 可以简单的绘制不规则图形，但是计算布局、生成渲染树的开销依然存在，所以只适合元素较少的简单可视化场景。

## <span id="canvas2d">Canvas2D</span>

Canvas 如何绘制可视化图标？

首先，Canvas 元素在浏览器上创造一个空白的画布，通过提供渲染上下文，赋予我们绘制内容的能力。然后，我们只需要调用渲染上下文，设置各种属性，然后调用绘图指令完成输出，就能在画布上呈现各种各样的图形了。

* HTML+CSS 和 SVG 都属于**声明式**绘图系统，根据数据创建各种不同的图形元素，然后利用浏览器渲染引擎渲染出来

* Canvas2D 是浏览器提供的一种可以直接用代码在一块“画布”上绘制图形的 API，通过调用绘图指令来绘制图形，属于**指令式**绘图系统

## <span id="webgl">WebGL</span>

WebGL 是浏览器提供的功能强大的绘图系统，它使用比较复杂，但是功能强大，能够充分利用 GPU 并行计算的能力，来快速、精准地操作图像的像素，在同一时间完成数十万或数百万次计算。另外，它还内置了对 3D 物体的投影、深度检测等处理，这让它更适合绘制 3D 场景。

WebGL的使用场景

* 要绘制的图形数量非常多

* 对较大图形的细节做像素处理

* 绘制 3D 物体

## Canvas和WebGL的区别

Canvas 和 WebGL 都是通过 GPU 绘图，不同点在于：

* Canvas2D 通过自身的 API 绘图，GPU 是浏览器底层调用的，不受开发者控制

* WebGL 将数据写入帧缓冲，最终通过 WebGLProgram 来执行 shader 完成图形渲染，所以 WebGL 能够自己控制 GPU 渲染
