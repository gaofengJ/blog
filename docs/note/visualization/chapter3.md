---
title: 03. 声明式图形系统：如何用SVG图形元素绘制可视化图表?
description: 可视化
---

SVG 的全称是 Scalable Vector Graphics，可缩放矢量图，它是浏览器支持的一种基于 XML 语法的图像格式。

## 利用 SVG 绘制几何图形

```html
<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
  <circle cx="100" cy="50" r="40" stroke="black" stroke-width="2" fill="orange" />
</svg>
```

svg 元素是 SVG 的根元素，属性 xmlns 是 xml 的命名空间，浏览器根据这个属性值就可以识别出这是一段 SVG 的内容。

SVG 坐标系和 Canvas 坐标系完全一样，都是以图像左上角为原点，x 轴向右，y 轴向下的左手坐标系。

在默认情况下，SVG 坐标与浏览器像素对应。

也可以通过给 svg 元素设置 viewBox 属性，来改变 SVG 的坐标系。如果设置了 viewBox 属性，那 SVG 内部的绘制就都是相对于 SVG 坐标系的了。

## SVG 和 Canvas 的不同点

* 写法上的不同

SVG 是以创建图形元素绘图的“声明式”绘图系统，Canvas 是执行绘图指令绘图的“指令式”绘图系统。

因为 SVG 的声明式类似于 HTML 书写方式，本身对前端工程师会更加友好。但是，SVG 图形需要由浏览器负责渲染和管理，将元素节点维护在 DOM 树中。这样做的缺点是，在一些动态的场景中，也就是需要频繁地增加、删除图形元素的场景中，SVG 与一般的 HTML 元素一样会带来 DOM 操作的开销，所以 SVG 的渲染性能相对比较低。

* 用户交互实现上的不同

SVG 的一个图形对应一个元素，所以我们可以像处理 DOM 元素一样，很容易地给 SVG 图形元素添加对应的鼠标事件。

## 绘制大量几何图形时 SVG 的性能问题

在一般情况下，当 SVG 节点超过一千个的时候，就能很明显感觉到性能问题了。
